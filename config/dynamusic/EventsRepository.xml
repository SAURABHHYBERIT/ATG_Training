<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE gsa-template PUBLIC "-//Art Technology Group, Inc.//DTD General SQL Adapter//EN" "http://www.atg.com/dtds/gsa/gsa_1.0.dtd">
<!--This file was generated by the ATG Repository Editor plugin-->
<gsa-template>
    <header>
        <name>EventsRepository</name>
        <author/>
    </header>
    <item-descriptor name="venue" default="true" display-property="name">
        <table name="dynamusic_venue" type="primary" id-column-names="id">
            <property name="name" data-type="string"/>
            <property name="description" data-type="string"/>
            <property name="street1" data-type="string"/>
            <property name="street2" data-type="string"/>
            <property name="city" data-type="string"/>
            <property name="state" data-type="string"/>
            <property name="zip" data-type="string"/>
            <property name="url" data-type="string"/>
            <property name="imageURL" column-names="image" data-type="string"/>
            <property name="id" data-type="string"/>
            <property name="phone" data-type="string"/>

        </table>
    </item-descriptor>
    <item-descriptor name="concert" display-property="name" sub-type-property="concertType">
        <table name="dynamusic_concert" type="primary" id-column-names="id">
            <property name="id" data-type="string"/>
            <property name="name" data-type="string"/>
            <property name="description" data-type="string"/>
            <property name="imageURL" column-name="image" data-type="string"/>
            <property name="date" column-names="event_date" data-type="timestamp"/>
            <property name="venue" column-names="venue" item-type="venue"/>
            <property name="concertType" data-type="enumerated" column-name="event_type" writable="false">
  		<attribute name="useCodeForValue" value="false"/>
		<option value="fundraiser" code="1"/>
	    </property>
        </table>
        <table name="dynamusic_concert_artists" type="multi" id-column-names="concert_id">
            <property name="artists" column-names="artist_id" data-type="set" component-item-type="artist" repository="/dynamusic/SongsRepository"/>
        </table>
    </item-descriptor>
    
    <item-descriptor name="concert-fundraiser" super-type="concert" 
	sub-type-value="fundraiser">
	<table name="dynamusic_concert" type="primary" id-column-name="id">
	    <property name="organization" column-name="fund_org" data-type="string"/>
	</table>
    </item-descriptor>

</gsa-template>
<!--ECLIPSE REPOSITORY EDITOR STATE INFO: Do Not Edit This Line |I:venue:39:114:0:1,P:dynamusic_venue.name:0,P:dynamusic_venue.description:0,P:dynamusic_venue.street1:0,P:dynamusic_venue.street2:0,P:dynamusic_venue.city:0,P:dynamusic_venue.state:0,P:dynamusic_venue.zip:0,P:dynamusic_venue.url:0,P:dynamusic_venue.imageURL:0,P:dynamusic_venue.id:0,P:dynamusic_venue.phone:0,I:concert:248:173:0:1,P:dynamusic_concert.id:0,P:dynamusic_concert.name:0,P:dynamusic_concert.description:0,P:dynamusic_concert.imageURL:0,P:dynamusic_concert.date:0,P:dynamusic_concert.venue:0,P:dynamusic_concert_artists.artists:0,-->